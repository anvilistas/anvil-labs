function m(){let{ffi:{proxy:e,toPy:t},abstr:{setUpModuleMethods:n,objectSetItem:r},misceval:{promiseToSuspension:s,chain:o}}=Sk,i={__name__:t("js"),window:e(self)};async function A(l){let a=await new Function("return import("+JSON.stringify(l.toString())+")").call(null);return e(a)}return n("js",i,{await_promise:{$meth(l){let a=l.valueOf();return a instanceof Promise||a&&a.then&&typeof a.then=="function"?o(s(a),k=>t(k,{dictHook:M=>e(M)})):l},$flags:{OneArg:!0}},import_from:{$meth(l){return s(A(l))},$flags:{OneArg:!0}}}),r(Sk.sysmodules,t("anvil.js.window"),i.window),i}function y(){let{ffi:{toPy:e,toJs:t},abstr:{setUpModuleMethods:n}}=Sk,r={__name__:new e("json")};return n("js",r,{dumps:{$meth(s){return new e(JSON.stringify(t(s)))},$flags:{OneArg:!0}},loads:{$meth(s){return e(JSON.parse(s.toString()))},$flags:{OneArg:!0}}}),r}var _=new Map([["src/lib/json.js",`var $builtinmodule=${y};`],["src/lib/anvil/__init__.py","def is_server_side():return False"],["src/lib/anvil/js.js",`var $builtinmodule=${m};`],["src/lib/anvil/tz.py",`import datetime,time
class tzoffset(datetime.tzinfo):
	def __init__(A,**B):A._offset=datetime.timedelta(**B)
	def utcoffset(A,dt):return A._offset
	def dst(A,dt):return datetime.timedelta()
	def tzname(A,dt):return None
class tzlocal(tzoffset):
	def __init__(B):
		if time.localtime().tm_isdst and time.daylight:A=-time.altzone
		else:A=-time.timezone
		tzoffset.__init__(B,seconds=A)
class tzutc(tzoffset):0
UTC=tzutc()`],["src/lib/anvil/server.py",`class SerializationError(Exception):0
def get_app_origin():return self.anvilAppOrigin
def get_api_origin():return get_app_origin()+'/_/api'
def call(*args,**kws):
	from anvil_labs.kompot import serialize,preserve,reconstruct;name,*args=args;rv=self.fetch(get_api_origin()+f"/anvil_labs_private_call?name={name}",{'headers':{'Content-Type':'application/json'},'method':'POST','body':self.JSON.stringify(preserve([args,kws]))});result,error=rv.json()
	if error:raise Exception(error)
	return reconstruct(dict(result))
def portable_class(*args,**kws):0`]]);importScripts("https://anvil.works/runtime-new/runtime/js/lib/skulpt.min.js","https://cdn.jsdelivr.net/npm/localforage@1.10.0/dist/localforage.min.js","https://cdn.jsdelivr.net/npm/uuid@8.3.2/dist/umd/uuid.min.js");var c=localforage.createInstance({name:"anvil-labs-sw",storeName:"lib"}),j=f();function f(){let e={resolve:()=>{},reject:()=>{}};return e.promise=new Promise((t,n)=>{e.resolve=t,e.reject=n}),e}var p=new Map;function E(e){let t=crypto.randomUUID();self.postMessage({type:"IMPORT",id:t,filename:e});let n=f();return p.set(t,n),n.promise}var u=e=>{let{builtin:{BaseException:t},ffi:{toJs:n}}=Sk,r,s,o;e instanceof t?(s=n(e.args),r=e.tp$name,o=e.traceback):(r=e.constructor?.name??"<unknown>",s=e.message?[e.message]:[]),self.postMessage({type:"ERROR",errorType:r,errorArgs:s,errorTb:o})};async function I(e){return await c.getItem(e)}function v(){Sk.configure({output(e){return self.postMessage({type:"OUT",message:e})},yieldLimit:300,syspath:["app"],read(e){let t=_.get(e);return t!==void 0?t:Sk.misceval.promiseToSuspension(I(e).then(n=>n??E(e).then(r=>(c.setItem(e,r??0),r))).then(n=>{if(n==null||n===0)throw"No module named "+e;return n}))},uncaughtException:e=>{u(e)}}),Sk.builtins.self=Sk.ffi.proxy(self),j.resolve(!0)}function T(e){let{data:t}=e;if(t.type==="MODULE"){let{id:n,content:r}=t,s=p.get(n);if(s===void 0)return;let{resolve:o}=s;p.delete(n),o(r)}}self.addEventListener("message",T);self.window=self;self.anvilAppOrigin="";var g=!1;async function w(e){g=!0,await d.setItem("__main__",e);try{await x(()=>N(e,!1,!0))}catch(t){console.error(t),u(t)}}var{builtin:{func:L},misceval:{asyncToPromise:x},importMain:N}=Sk;v();D();function D(){function e(t,n=[]){if(t.length!==1)throw new Sk.builtin.TypeError("Expeceted one arg to raise_event");let r={};for(let s=0;s<n.length;s+=2){let o=n[s],i=n[s+1];r[o]=Sk.ffi.toJs(i)}O(t[0].toString(),r)}e.co_fastcall=!0,self.raise_event=new L(e),self.sync_event_handler=t=>n=>n.waitUntil(t(n))}var d=localforage.createInstance({name:"anvil-labs-sw",storeName:"locals"});async function P(e){let t=e.data,{type:n}=t;if(n!=="INIT")return;let{name:r}=t;await c.clear(),await w(r)}self.addEventListener("message",P);self.addEventListener("activate",e=>{console.log("%cSW ACTIVATED","color: hotpink;")});async function U(e){let t=e.data,{type:n}=t;if(n!=="APPORIGIN")return;let{origin:r}=t;self.anvilAppOrigin=r,await d.setItem("apporigin",r)}self.addEventListener("message",U);async function b(e){e.ANVIL_LABS=!0;let t=await self.clients.matchAll({includeUncontrolled:!0,type:"window"});for(let n of t)n.postMessage(e)}self.postMessage=b;function O(e,t={}){t.event_name=e,b({type:"EVENT",name:e,kws:t})}function S(e,t){let{get:n}=Object.getOwnPropertyDescriptor(self,e)??{};delete self[e],Object.defineProperty(self,e,{get:n,set:t,configurable:!0})}function h(e){let t="on"+e,n=f(),{set:r}=Object.getOwnPropertyDescriptor(self,t)??{},s;self[t]=o=>{g||(s=o,z(),setTimeout(()=>{n.resolve("timeout")},5e3),o.waitUntil(n.promise))},S(t,async o=>{if(S(t,r),self[t]=o,!!s)try{await o(s),n.resolve(null)}catch(i){n.reject(i)}}),self.addEventListener(e,o=>{O(e,{tag:o.tag})})}h("sync");h("periodicsync");async function z(){let e=await d.getItem("apporigin");if(self.anvilAppOrigin=e??"",g)return;let t=await d.getItem("__main__");t&&await w(t)}console.log("%cRUNNING SW SCRIPT","color: green;");
